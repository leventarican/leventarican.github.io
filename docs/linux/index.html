<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Levent Arican</title>
    
    <meta name="author" content="Levent Arican">
    <meta name="description" content="Software Craftsman, Software Engineering, Computer Vision, Data Engineering, Computer Science, Machine Learning, Deep Learning, Android Development, Flutter, Kotlin, Java, Rust, Python">
    <meta http-equiv="cache-control" content="no-cache"/>

    <style>
        h1 {
            font-size: 1.6em;
        }
        h2 {
            font-size: 1.4em;
        }
        h3 {
            font-size: 1.2em;
        }
        code {
            font-size: large;
        }
        blockquote {
            font-style: italic;
        }
        table, th, td {
            border: solid 1px;
        }
        footer {
            color: #c0c0c0
        }
    </style>

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X86T9RBJ92"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-X86T9RBJ92');
    </script>
</head>

<body>
    <section class="section">
        <div class="container" style="width:800px; margin:16px auto;">
            
<h1 class="title">
    Linux
</h1>
<p class="subtitle"><strong>2021-03-18</strong></p>
<h1 id="curl">Curl</h1>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo curl</span><span style="font-style:italic;color:#fd971f;"> -L</span><span style="color:#f8f8f2;"> https://down.load/file</span><span style="font-style:italic;color:#fd971f;"> -o</span><span style="color:#f8f8f2;"> here
</span></code></pre><h1 id="memory-usage">Memory usage</h1>
<p>NOTE, that <em>cache</em> does not take memory from apps. </p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">free</span><span style="font-style:italic;color:#fd971f;"> -wh
</span></code></pre><h1 id="compressed-files">Compressed Files</h1>
<p>Unpack compressed tar gz files</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">tar xfv ../Downloads/zulu8.40.0.25-ca-jdk8.0.222-linux_x64.tar.gz
unzip netbeans.zip
unzip</span><span style="font-style:italic;color:#fd971f;"> -l</span><span style="color:#f8f8f2;"> netbeans.zip	// list files
unzip netbeans.zip</span><span style="font-style:italic;color:#fd971f;"> -d</span><span style="color:#f8f8f2;"> specific-dir/		// extract to dir specific dir
zip</span><span style="font-style:italic;color:#fd971f;"> -r -0 -s</span><span style="color:#f8f8f2;"> 900m archive-0.zip folder-to-archive/    // split zip each 900MB</span><span style="color:#f92672;">; </span><span style="color:#f8f8f2;">just archive no compress</span><span style="color:#f92672;">; </span><span style="color:#f8f8f2;">recursivly.
</span></code></pre><h1 id="copy-files">Copy Files</h1>
<p>Copy all files with <code>file-*</code> to current folder. verbose on.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">cp</span><span style="font-style:italic;color:#fd971f;"> -v</span><span style="color:#f8f8f2;"> folder/file-</span><span style="color:#f92672;">*</span><span style="color:#f8f8f2;"> .
</span></code></pre>
<p>Copy files multible times</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f92672;">for</span><span style="color:#f8f8f2;"> i </span><span style="color:#f92672;">in </span><span style="color:#f8f8f2;">{1..100}</span><span style="color:#f92672;">; do </span><span style="color:#f8f8f2;">cp free.ogg </span><span style="color:#e6db74;">&quot;free$i.ogg&quot;</span><span style="color:#f92672;">; done
</span></code></pre><h1 id="disc-usage">Disc usage</h1>
<p>Display free disk space; human readable; max depth</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">df</span><span style="font-style:italic;color:#fd971f;"> -h</span><span style="color:#f8f8f2;"> .
du</span><span style="font-style:italic;color:#fd971f;"> -h --max-depth</span><span style="color:#f92672;">=</span><span style="color:#f8f8f2;">1 /home/
</span></code></pre><h1 id="network">Network</h1>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">arp	// list MAC adress to IP adress
cat /var/dhcp.leases	// show IP adress, hostname, MAC adress
nmap</span><span style="font-style:italic;color:#fd971f;"> -v</span><span style="color:#f8f8f2;"> ip.adress	// fast simple scan for default ports
sudo service dnsmasq restart	// restart dnsmasq: DCHP server (usually this is installed on openwrt)
dmesg	// display kernel ring buffer (data structure of messages operated by kernel)
</span></code></pre><h1 id="symbolic-links">Symbolic links</h1>
<p>Create and remove symbolic links.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">ln</span><span style="font-style:italic;color:#fd971f;"> -s</span><span style="color:#f8f8f2;"> zulu8.40.0.25-ca-jdk8.0.222-linux_x64 jdk
rm jdk  // remove symbolic link
</span></code></pre><h1 id="image-resize">Image resize</h1>
<p>You need a <code>imagemagick</code> tool for this command.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">convert</span><span style="font-style:italic;color:#fd971f;"> -resize</span><span style="color:#f8f8f2;"> 25% screenshot.png screenshot.png
</span></code></pre><h1 id="find">Find</h1>
<p>Find files named <code>*.md</code> in or below the directory <code>development/</code> with max depth 2</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">find development/</span><span style="font-style:italic;color:#fd971f;"> -maxdepth</span><span style="color:#f8f8f2;"> 2</span><span style="font-style:italic;color:#fd971f;"> -name </span><span style="color:#f92672;">*</span><span style="color:#f8f8f2;">README.md</span><span style="font-style:italic;color:#fd971f;"> -type</span><span style="color:#f8f8f2;"> f</span><span style="font-style:italic;color:#fd971f;"> -print
</span></code></pre><h1 id="system-specification">System specification</h1>
<p>The command <code>lshw</code> should be installed by default.
With <code>lshw</code> you can list cpu, memory or all system information in console, as json or html.</p>
<p>List memory only.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo lshw</span><span style="font-style:italic;color:#fd971f;"> -C</span><span style="color:#f8f8f2;"> memory
  *-memory                  
       description: System Memory
       physical id: 1
       slot: System board or motherboard
       size: 16GiB
</span></code></pre>
<p>List all with format html.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo lshw</span><span style="font-style:italic;color:#fd971f;"> -html </span><span style="color:#f92672;">&gt;</span><span style="color:#f8f8f2;"> specs.html
</span></code></pre><h1 id="free-up-space">Free up space</h1>
<p>Use <strong>autoremove</strong> on ubuntu to remove old packages, kernel, ...</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo apt-get autoremove
</span></code></pre>
<p>You can also clean <strong>apt chache</strong></p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo du</span><span style="font-style:italic;color:#fd971f;"> -sh</span><span style="color:#f8f8f2;"> /var/cache/apt
sudo apt-get autoclean
</span></code></pre>
<p>Clear <strong>systemd journal logs</strong> older then 3 days</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">journalctl</span><span style="font-style:italic;color:#fd971f;"> --disk-usage
</span><span style="color:#f8f8f2;">sudo journalctl</span><span style="font-style:italic;color:#fd971f;"> --vacuum-time</span><span style="color:#f92672;">=</span><span style="color:#f8f8f2;">3d
</span></code></pre>
<p>Remove <strong>snap</strong> older versions</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">du</span><span style="font-style:italic;color:#fd971f;"> -h</span><span style="color:#f8f8f2;"> /var/lib/snapd/snaps

</span><span style="color:#75715e;">#!/bin/bash
# Removes old revisions of snaps
# CLOSE ALL SNAPS BEFORE RUNNING THIS
</span><span style="color:#f8f8f2;">set</span><span style="font-style:italic;color:#fd971f;"> -eu
</span><span style="color:#f8f8f2;">snap list</span><span style="font-style:italic;color:#fd971f;"> --all </span><span style="color:#f92672;">| </span><span style="color:#f8f8f2;">awk </span><span style="color:#e6db74;">&#39;/disabled/{print $1, $3}&#39; </span><span style="color:#f92672;">|
    while </span><span style="color:#66d9ef;">read</span><span style="color:#f8f8f2;"> snapname revision</span><span style="color:#f92672;">; do
        </span><span style="color:#f8f8f2;">snap remove </span><span style="color:#e6db74;">&quot;$snapname&quot;</span><span style="font-style:italic;color:#fd971f;"> --revision</span><span style="color:#f92672;">=</span><span style="color:#e6db74;">&quot;$revision&quot;
    </span><span style="color:#f92672;">done
</span></code></pre>
<p>If you want to use a UI then <em>stacer</em> is a good tool</p>
<h1 id="snap">Snap</h1>
<p>The <code>snap-store</code> under linux using ~ 500MB. As an alternative you can use <code>gnome-software</code>.</p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">sudo snap remove snap-store </span><span style="color:#f92672;">&amp;&amp; </span><span style="color:#f8f8f2;">sudo apt install gnome-software
</span></code></pre><h1 id="battery">Battery</h1>
<p>Calculate the battery capacity with energy_full values: <code>56760000 / 57020000 * 100 = 99.5%</code></p>
<pre style="background-color:#272822;">
<code class="language-bash" data-lang="bash"><span style="color:#f8f8f2;">cat /sys/class/power_supply/BAT0/energy_full
56760000

cat /sys/class/power_supply/BAT0/energy_full_design
57020000
</span></code></pre>
<p>Tools like <code>tlp</code> or <code>tlp-stat --battery</code> could also be useful for battery management or stats.</p>
<h1 id="links">Links</h1>
<ul>
<li>https://itsfoss.com/free-up-space-ubuntu-linux/</li>
<li>https://github.com/oguzhaninan/Stacer</li>
</ul>

<footer>
	<code>levent arican # <a href="https://leventarican.github.io/">https://leventarican.github.io/</a></code>
</footer>

        </div>
    </section>
</body>

</html>