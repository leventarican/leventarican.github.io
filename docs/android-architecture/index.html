<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Levent Arican</title>
    
    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X86T9RBJ92"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-X86T9RBJ92');
    </script>
</head>

<body>
    <section class="section">
        <div class="container" style="width:800px; margin:16px auto;">
            
<h1 class="title">
    Android: Architecture
</h1>
<p class="subtitle"><strong>2021-03-15</strong></p>
<h1 id="about">About</h1>
<p>Give an overview about the Android Architecture components or bluebrints.</p>
<h1 id="introduction">Introduction</h1>
<blockquote>
<p>There are different ways to develop an app. But the challenge is to develop an app with a good architecture.</p>
</blockquote>
<p>By time Android development evolved to make development more comfortable e.g. skip writing boilerplate code.
Make code structure more <em>robust, testable, maintainable</em>.</p>
<p>At begin there was mainly an <code>Activity</code> component which represents a screen. Then <code>Fragments</code> where introduced. A type of micro-UI within an <code>Activty</code>.
Latetely an <em>android support library</em> was introduced. With Android 9.0 this support library is called <em>AndroidX</em>.
<em>AndroidX</em> is part of the <em>Jetpack</em> library suite.</p>
<p>There are also 3rd party libraries which are commonly used.</p>
<p>Also important to mention is the usage of kotlin language extensions or features.</p>
<p>You also should know some different development approaches. E.g. <em>single-activity-architecture</em>.</p>
<blockquote>
<p>These additional components help you to improve your code quality but bring a lot of new dependencies. First you need too know and then use it suitable.</p>
</blockquote>
<h1 id="components">Components</h1>
<p>Now lets list the components available. We want to know when to use which components and what the motivation of it.</p>
<ul>
<li>DataBinding</li>
<li>ViewBinding</li>
<li>ViewModel</li>
<li>LiveData</li>
<li>Room</li>
</ul>
<p>If we need to store or request/fetch data from a data source we can achieve this in different ways. You should know that read/write operation on <em>cache/memory/in-memory</em> is different to <em>disc</em> or even <em>network</em>. To summarize there are different data persistence layers.</p>
<table><thead><tr><th>Type</th><th>IO time</th></tr></thead><tbody>
<tr><td>cache/memory</td><td>fast</td></tr>
<tr><td>disc</td><td>slow</td></tr>
<tr><td>network</td><td>very slow</td></tr>
</tbody></table>
<p>When we develop an app our intention is mainly to receive input then display respective information. It's the usual data process: <code>input -&gt; process -&gt; output</code>. The components listed above are intended to support displaying, storing, ... data. We achieve a decopling of the code components.</p>
<p>Some words about <em>Jetpack</em>. As already introduced it was formerly <em>Android Support Library</em>: v4 Support Libraries, v7 Support Libraries.
The <em>AndroidX library</em> contains the existing support library and also includes the latest Jetpack components. </p>
<h3 id="databinding">DataBinding</h3>
<p>With data binding we can access the UI element directly over the generate Binding class. Instead of searching the hole UI tree <code>findviewbyId</code> we just access the view defined in the layout file directly.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">binding.textView.text = &#39;kotlin&#39;
</span></code></pre>
<blockquote>
<p>Too get such an <code>binding</code> object there are some prerequirements you need to too. E.g. include the dependency, wrap layout file with <code>&lt;layout/&gt;</code> tag and inflate the layout file.</p>
</blockquote>
<h3 id="viewmodel">ViewModel</h3>
<p>The view model component was introduced to hold the app data model in a lifecycle aware state. Whenever the <code>Acvitity</code> or <code>Fragment</code> lifecycle changes we need to care about the data state. With <code>ViewModel</code> this manual process is obsolete. The <code>ViewModel</code> manages the data for the UI. Either a single UI component (activity/fragment) or shared UI components.</p>
<blockquote>
<p>For a <code>ViewModel</code> integration we need to add dependencies, introduce a <code>ViewModel</code> class and get the <code>ViewModel</code> reference from a view model provider.</p>
</blockquote>
<p>Now some code.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">class DeveloperViewModel : ViewModel {}
</span></code></pre>
<p>In your UI component get the instance.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">
</span></code></pre><h3 id="livedata">LiveData</h3>
<p>With <code>LiveData</code> for example we can do <em>reactive programming</em>. The UI react to changes on data.</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#c0c5ce;">data.payload.observe(this, {
    Log.d(&quot;#&quot;, &quot;event received: $it. react...&quot;)
})
</span></code></pre>
<blockquote>
<p><code>LiveData</code> is a <em>observable</em> component and follows the <em>observer pattern</em>. It's usually used in combination with <code>ViewModel</code>. Where a <code>ViewModel</code> holds data as <code>LiveData</code>.</p>
</blockquote>
<h1 id="3rd-party">3rd Party</h1>
<ul>
<li>Test: espresso, mockito</li>
<li>REST API communitcation: Retrofit</li>
<li>image loading: Glide</li>
<li>logging: Timber</li>
</ul>
<h1 id="kotlin">Kotlin</h1>
<p>Where does kotlin helps us the develop better apps. Like <code>Coroutines</code>. </p>
<p><em>Android KTX</em> is a set of Kotlin extensions which is part of Android Jetpack.</p>
<h1 id="links">Links</h1>
<ul>
<li>https://developer.android.com/jetpack</li>
<li>https://developer.android.com/topic/libraries/support-library/index.html</li>
<li>https://developer.android.com/topic/libraries/architecture</li>
</ul>
<h1 id="links-github">Links: Github</h1>
<ul>
<li>https://github.com/android/architecture-components-samples/tree/master/GithubBrowserSample</li>
<li>https://github.com/android/architecture-samples</li>
<li>https://github.com/android/architecture-samples/wiki/To-do-app-specification</li>
</ul>


        </div>
    </section>
</body>

</html>